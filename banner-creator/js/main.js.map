{"version":3,"sources":["main.js","fabricWindow.js","fabricUtilities.js","fabricDirtyStatus.js","fabricDirective.js","fabricConstants.js","fabricCanvas.js","fabric.js"],"names":["angular","module","controller","$scope","Fabric","FabricConstants","Keypress","fabric","saveImage","download","Math","random","addImage","image","addText","setStroke","setStrokeWidth","setImage","addRect","rc","$","modal","addImageUpload","data","obj","fromJson","filename","selectCanvas","canvasCopy","width","canvasOriginalWidth","height","canvasOriginalHeight","setCanvasSize","setDirty","init","JSONExportProperties","textDefaults","shapeDefaults","json","console","log","warn","document","onkeyup","e","window","event","altKey","ctrlKey","shiftKey","which","alert","$on","onSave","updatePage","caption","fileUrl","imageChange","inp","file","files","fr","FileReader","onload","createImage","readAsDataURL","img","Image","imageLoaded","src","result","fabImg","DrawingMode","csetDrawing","ysetDrawing","fsetDrawing","ymk","sk","blisterPackTemplateSelected","setPaint","oPaint","setFreeDrawingMode","getFreeDrawingMode","getDrawingMode","setDrawingMode","setDrawingLineShadowWidth","getDrawingLineShadowWidth","setDrawingLineColor","getDrawingLineColor","setDrawingLineWidth","getDrawingLineWidth","getStroke","getStrokeWidth","invokeImageChange","that","element","scope","$digest","factory","$window","directive","$timeout","parentClick","link","mousedown","children","stopPropagation","self","cb","keydown","metaKey","preventDefault","filter","items","slice","reverse","service","dirty","checkSaveStatus","isDirty","endListening","onbeforeunload","onhashchange","startListening","value","FabricCanvas","$element","setElement","createCanvas","on","setUserHasClickedCanvas","$watch","newVal","setCanvasBackgroundColor","setText","render","setFontSize","setLineHeight","setTextAlign","setFontFamily","setOpacity","setFill","setTint","objectDefaults","rotatingPointOffset","padding","borderColor","cornerColor","cornerSize","transparentCorners","hasRotatingPoint","centerTransform","presetSizes","name","fonts","shapeCategories","shapes","extend","fill","originX","scaleX","scaleY","fontFamily","fontSize","textAlign","FabricWindow","$rootScope","canvasId","canvas","createId","floor","$broadcast","attr","Canvas","getCanvas","getCanvasId","FabricDirtyStatus","options","JSONObject","canvasBackgroundColor","canvasWidth","canvasHeight","maxContinuousRenderLoops","continuousRenderTimeDelay","editable","loading","initialized","userHasClickedCanvas","downloadMultipler","imageDefaults","windowDefaults","canvasDefaults","selection","capitalize","string","charAt","toUpperCase","getActiveStyle","styleName","object","getActiveObject","getSelectionStyles","isEditing","setActiveStyle","setSelectionStyles","style","getActiveProp","setActiveProp","set","b64toBlob","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","length","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","push","blob","Blob","type","isHex","str","test","renderCount","objects","getObjects","setCoords","calcOffset","renderAll","setCanvas","newCanvas","setTextDefaults","setJSONExportProperties","color","setBackgroundColor","setCanvasWidth","setWidth","setCanvasHeight","setHeight","stopContinuousRendering","initialCanvasScale","canvasScale","resetZoom","originalWidth","originalHeight","setZoom","isLoading","deactivateAll","deselectActiveObject","clearCanvas","confirm","clear","addObjectToCanvas","originalScaleX","originalScaleY","originalLeft","left","originalTop","top","add","setObjectZoom","setActiveObject","bringToFront","center","Rect","Circle","radius","Triangle","Line","stroke","regularPolygonPoints","sideCount","sweep","PI","cx","cy","points","x","cos","y","sin","Polygon","starPolygonPoints","spikeCount","outerRadius","innerRadius","rot","angle","strokeWidth","strokeLineJoin","id","imageURL","fromURL","p","imageOptions","filters","Tint","opacity","applyFilters","bind","addShape","svgURL","loadSVGFromURL","util","groupSVGElements","isSameColor","paths","Text","getText","getFontSize","parseInt","getTextAlign","toLowerCase","getFontFamily","getLineHeight","parseFloat","isBold","toggleBold","isItalic","toggleItalic","isUnderline","indexOf","toggleUnderline","replace","isLinethrough","toggleLinethrough","getOpacity","getTintOpacity","getFlipX","setFlipX","toggleFlipX","activeObject","updateActiveObjectOriginals","centerH","centerV","sendBackwards","sendToBack","bringForward","isTinted","toggleTint","tintopacit","tintopacity","tint","filterre","getTint","undefined","getFill","setFillPath","setCanvasZoom","tempScaleX","tempScaleY","tempLeft","tempTop","tempWidth","tempHeight","toggleLockActiveObject","lockMovementX","lockMovementY","lockScalingX","lockScalingY","lockUniScaling","lockRotation","lockObject","selectActiveObject","selectedObject","text","lineHeight","deleteActiveObject","remove","setLoading","setInitalized","isInitalized","getJSON","JSON","stringify","toJSON","loadJSON","loadFromJSON","disableEditing","getCanvasData","toDataURL","getWidth","getHeight","multiplier","getCanvasBlob","base64Data","blobUrl","URL","createObjectURL","createElement","href","click","continuousRenderCounter","continuousRenderHandle","cancel","startContinuousRendering","continuousRender","forEachObject","selectable","enableEditing","setCanvasDefaults","setWindowDefaults","Object","prototype","startCanvasListeners","isDrawingMode","freeDrawingMode","freeDrawingBrush","vLinePatternBrush","hLinePatternBrush","squarePatternBrush","diamondPatternBrush","texturePatternBrush","shadow","blur","Shadow","offsetX","offsetY","background"],"mappings":"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","file":"main.js","sourcesContent":["// http://dean.edwards.name/packer/\r\nangular\r\n\t.module(\"baoNguyenApp\", [\r\n\t\t\"common.fabric\",\r\n\t\t\"common.fabric.utilities\",\r\n\t\t\"common.fabric.constants\",\r\n\t\t'colorpicker.module'\r\n\t])\r\n\t.controller(\"nguyenCtrl\", [\r\n\t\t\"$scope\",\r\n\t\t\"Fabric\",\r\n\t\t\"FabricConstants\",\r\n\t\t\"Keypress\",\r\n\t\tfunction ($scope, Fabric, FabricConstants, Keypress) {\r\n\t\t\t$scope.fabric = {};\r\n\t\t\t$scope.FabricConstants = FabricConstants;\r\n\r\n\r\n\t\t\t$scope.saveImage = function () {\r\n\t\t\t\t$scope.fabric.download('nguyen_' + Math.random())\r\n\t\t\t};\r\n\r\n\t\t\t//\r\n\t\t\t// Creating Canvas Objects\r\n\t\t\t// ================================================================\r\n\t\t\t// $scope.addShape = function (path) {\r\n\t\t\t// \t$scope.fabric.addShape(\"http://fabricjs.com/assets/15.svg\");\r\n\t\t\t// };\r\n\t\t\t$scope.addImage = function (image) {\r\n\t\t\t\t$scope.fabric.addImage(image);\r\n\t\t\t};\r\n\t\t\t$scope.addText = function () {\r\n\t\t\t\t$scope.fabric.setStroke(null)\r\n\t\t\t\t$scope.fabric.setStrokeWidth(1)\r\n\t\t\t};\r\n\t\t\t$scope.setImage = function () {\r\n\t\t\t\t$scope.fabric.setStroke(null)\r\n\t\t\t\t$scope.fabric.setStrokeWidth(0)\r\n\t\t\t};\r\n\r\n\t\t\t$scope.addRect = function (rc) {\r\n\t\t\t\t$scope.fabric.addRect(rc);\r\n\t\t\t\t$('#sharpModal').modal('hide');\r\n\t\t\t\t$scope.fabric.setStroke(null)\r\n\t\t\t\t$scope.fabric.setStrokeWidth(1)\r\n\t\t\t};\r\n\r\n\t\t\t$scope.addImageUpload = function (data) {\r\n\t\t\t\tvar obj = angular.fromJson(data);\r\n\t\t\t\t$scope.addImage(obj.filename);\r\n\t\t\t};\r\n\r\n\t\t\t//\r\n\t\t\t// Editing Canvas Size\r\n\t\t\t// ================================================================\r\n\t\t\t$scope.selectCanvas = function () {\r\n\t\t\t\t$scope.canvasCopy = {\r\n\t\t\t\t\twidth: $scope.fabric.canvasOriginalWidth,\r\n\t\t\t\t\theight: $scope.fabric.canvasOriginalHeight\r\n\t\t\t\t};\r\n\t\t\t};\r\n\r\n\t\t\t$scope.setCanvasSize = function () {\r\n\t\t\t\t$scope.fabric.setCanvasSize(\r\n\t\t\t\t\t$scope.canvasCopy.width,\r\n\t\t\t\t\t$scope.canvasCopy.height\r\n\t\t\t\t);\r\n\t\t\t\t$scope.fabric.setDirty(true);\r\n\t\t\t\t// delete $scope.canvasCopy;\r\n\t\t\t};\r\n\r\n\t\t\t//\r\n\t\t\t// Init\r\n\t\t\t// ================================================================\r\n\t\t\t$scope.init = function () {\r\n\t\t\t\t$scope.fabric = new Fabric({\r\n\t\t\t\t\tJSONExportProperties: FabricConstants.JSONExportProperties,\r\n\t\t\t\t\ttextDefaults: FabricConstants.textDefaults,\r\n\t\t\t\t\tshapeDefaults: FabricConstants.shapeDefaults,\r\n\t\t\t\t\tjson: {}\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log('%cBAONGUYEN', 'font-size:100px;color:#ff451a;text-shadow:0 1px 0 #f73936,0 2px 0 #f73936 ,0 3px 0 #f73936 ,0 4px 0 #f73936 ,0 5px 0 #f73936 ,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15);')\r\n\t\t\t\tconsole.log('%c BAONGUYEN ' + '%c - The best Web Solutions Provider', 'border-radius: 2px; padding: 3px; background: #ff451a; color: #FFF', 'color: #ff451a')\r\n\t\t\t\tconsole.warn(\"BAONGUYEN warning: This is a browser feature intended for developers. If someone told you to copy and paste something here to enable a BAONGUYEN feature or 'hack' someone's account, it is a scam and will give them access to your BAONGUYEN account.\")\r\n\t\t\t\tdocument.onkeyup = function (e) {\r\n\t\t\t\t\tvar e = e || window.event;\r\n\t\t\t\t\tif (e.altKey && e.ctrlKey && e.shiftKey && e.which == 13) {\r\n\t\t\t\t\t\talert('BAO NGUYEN - +(1) 682 203 1334\\nEmail: baonguyenyam@gmail.com\\nWeb: baonguyenyam.github.io')\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\r\n\t\t\t$scope.$on(\"canvas:created\", $scope.init);\r\n\r\n\t\t\tKeypress.onSave(function () {\r\n\t\t\t\t$scope.updatePage();\r\n\t\t\t});\r\n\t\t\t$scope.caption = \"\";\r\n\t\t\t$scope.fileUrl = \"\";\r\n\r\n\t\t\t\r\n\t\t\t$scope.imageChange = function (inp) {\r\n\t\t\t\tfile = inp.files[0];\r\n\t\t\t\tfr = new FileReader();\r\n\t\t\t\tfr.onload = createImage;\r\n\t\t\t\tfr.readAsDataURL(file);\r\n\t\t\t\tvar img = null;\r\n\t\t\t\tfunction createImage() {\r\n\t\t\t\t\timg = new Image();\r\n\t\t\t\t\timg.onload = imageLoaded;\r\n\t\t\t\t\timg.src = fr.result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction imageLoaded() {\r\n\t\t\t\t\tvar fabImg = new fabric.Image(img);\r\n\t\t\t\t\t$scope.fabric.addImage(img.src);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t///// DRAWING\r\n\t\t\t$scope.DrawingMode  = [\r\n\t\t\t\t'Pencil',\r\n\t\t\t\t'Circle',\r\n\t\t\t\t'Spray',\r\n\t\t\t\t'Pattern'\r\n\t\t\t]\r\n\t\t\t$scope.csetDrawing = '#f00'\r\n\t\t\t$scope.ysetDrawing = '1'\r\n\t\t\t$scope.fsetDrawing = '0'\r\n\t\t\t$scope.ymk = ''\r\n\t\t\t$scope.sk = '0'\r\n\t\t\t$scope.blisterPackTemplateSelected = $scope.DrawingMode[0]\r\n\t\t\t$scope.setPaint = function () {\r\n\t\t\t\tif($scope.oPaint) {\r\n\t\t\t\t\t$scope.oPaint = !$scope.oPaint\r\n\t\t\t\t\t$scope.setFreeDrawingMode(!$scope.getFreeDrawingMode())\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$('#paintModal').modal('show');\r\n\t\t\t\t\t$scope.oPaint = !$scope.oPaint\r\n\t\t\t\t\t$scope.setFreeDrawingMode(!$scope.getFreeDrawingMode())\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$scope.getFreeDrawingMode = function () {\r\n\t\t\t\t$scope.fabric.getFreeDrawingMode()\r\n\t\t\t}\r\n\t\t\t$scope.setFreeDrawingMode = function (e) {\r\n\t\t\t\te = !$scope.fabric.getFreeDrawingMode();\r\n\t\t\t\t$scope.fabric.setFreeDrawingMode(e)\r\n\t\t\t}\r\n\t\t\t$scope.getDrawingMode = function () {\r\n\t\t\t\t$scope.fabric.getDrawingMode()\r\n\t\t\t}\r\n\t\t\t$scope.setDrawingMode = function (e) {\r\n\t\t\t\t$scope.fabric.setDrawingMode(e)\r\n\t\t\t}\r\n\t\t\t$scope.setDrawingLineShadowWidth = function (e) {\r\n\t\t\t\t$scope.fabric.setDrawingLineShadowWidth(e)\r\n\t\t\t}\r\n\t\t\t$scope.getDrawingLineShadowWidth = function () {\r\n\t\t\t\t$scope.fabric.getDrawingLineShadowWidth()\r\n\t\t\t}\r\n\t\t\t$scope.setDrawingLineColor = function (e) {\r\n\t\t\t\t$scope.fabric.setDrawingLineColor(e)\r\n\t\t\t}\r\n\t\t\t$scope.getDrawingLineColor = function () {\r\n\t\t\t\t$scope.fabric.getDrawingLineColor()\r\n\t\t\t}\r\n\t\t\t$scope.setDrawingLineWidth = function (e) {\r\n\t\t\t\t$scope.fabric.setDrawingLineWidth(e)\r\n\t\t\t}\r\n\t\t\t$scope.getDrawingLineWidth = function () {\r\n\t\t\t\t$scope.fabric.getDrawingLineWidth()\r\n\t\t\t}\r\n\t\t\t$scope.setStroke = function (e) {\r\n\t\t\t\t$scope.fabric.setStroke(e)\r\n\t\t\t}\r\n\t\t\t$scope.getStroke = function () {\r\n\t\t\t\t$scope.fabric.getStroke()\r\n\t\t\t}\r\n\t\t\t$scope.setStrokeWidth = function (e) {\r\n\t\t\t\t$scope.fabric.setStrokeWidth(e)\r\n\t\t\t}\r\n\t\t\t$scope.getStrokeWidth = function () {\r\n\t\t\t\t$scope.fabric.getStrokeWidth()\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t}\r\n\t]);\r\n\r\n////////////\r\n\r\nvar invokeImageChange = function (that) {\r\n\tangular\r\n\t\t.element(that)\r\n\t\t.scope()\r\n\t\t.imageChange(that);\r\n\tangular\r\n\t\t.element(that)\r\n\t\t.scope()\r\n\t\t.$digest();\r\n};\r\n\r\n","angular.module('common.fabric.window', [])\n\n.factory('FabricWindow', ['$window', function($window) {\n\n\treturn $window.fabric;\n\n}]);\n","angular.module('common.fabric.utilities', [])\n\n.directive('parentClick', ['$timeout', function($timeout) {\n\treturn {\n\t\tscope: {\n\t\t\tparentClick: '&'\n\t\t},\n\t\tlink: function(scope, element) {\n\t\t\telement.mousedown(function() {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tscope.parentClick();\n\t\t\t\t});\n\t\t\t})\n\t\t\t.children()\n\t\t\t.mousedown(function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t}\n\t};\n}])\n\n.factory('Keypress', [function() {\n\tvar self = {};\n\n\tself.onSave = function(cb) {\n\t\t$(document).keydown(function(event) {\n\t\t\t// If Control or Command key is pressed and the S key is pressed\n\t\t\t// run save function. 83 is the key code for S.\n\t\t\tif((event.ctrlKey || event.metaKey) && event.which === 83) {\n\t\t\t\t// Save Function\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tcb();\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t};\n\n\treturn self;\n}])\n\n.filter('reverse', [function() {\n\treturn function(items) {\n\t\tif (items) {\n\t\t\treturn items.slice().reverse();\n\t\t}\n\t};\n}]);","angular.module('common.fabric.dirtyStatus', [])\n\n.service('FabricDirtyStatus', ['$window', function($window) {\n\n\tvar self = {\n\t\tdirty: false\n\t};\n\n\tfunction checkSaveStatus() {\n\t\tif (self.isDirty()) {\n\t\t\treturn \"Oops! You have unsaved changes.\\n\\nPlease save before leaving so you don't lose any work.\";\n\t\t}\n\t}\n\n\tself.endListening = function() {\n\t\t$window.onbeforeunload = null;\n\t\t$window.onhashchange = null;\n\t};\n\n\tself.startListening = function() {\n\t\t$window.onbeforeunload = checkSaveStatus;\n\t\t$window.onhashchange = checkSaveStatus;\n\t};\n\n\tself.isDirty = function() {\n\t\treturn self.dirty;\n\t};\n\n\tself.setDirty = function(value) {\n\t\tself.dirty = value;\n\t};\n\n\treturn self;\n\n}]);\n","angular\n  .module(\"common.fabric.directive\", [\"common.fabric.canvas\"])\n\n  // .directive(\"ngImageEditor\", function() {\n  //   return {\n  //     restrict: \"E\",\n  //     transclude: false,\n  //     replace: true,\n  //     controller: \"ImageCtrl\",\n  //     template: \"Not Used\"\n  //   };\n  // })\n\n  .directive(\"fabric\", [\n    \"$timeout\",\n    \"FabricCanvas\",\n    \"$window\",\n    function($timeout, FabricCanvas, $window) {\n      return {\n        scope: {\n          fabric: \"=\"\n        },\n        controller: function($scope, $element) {\n          FabricCanvas.setElement($element);\n          FabricCanvas.createCanvas();\n\n          // Continue rendering the canvas until the user clicks\n          // to avoid the \"calcOffset\" bug upon load.\n          $(\"body\").on(\"click\", \"canvas\", function() {\n            if ($scope.fabric.setUserHasClickedCanvas) {\n              $scope.fabric.setUserHasClickedCanvas(true);\n            }\n          });\n\n          //\n          // Watching Controller Variables\n          // ============================================================\n          $scope.$watch(\"fabric.canvasBackgroundColor\", function(newVal) {\n            if ($scope.fabric.setCanvasBackgroundColor) {\n              $scope.fabric.setCanvasBackgroundColor(newVal);\n            }\n          });\n\n          $scope.$watch(\"fabric.selectedObject.text\", function(newVal) {\n            if (typeof newVal === \"string\") {\n              $scope.fabric.setText(newVal);\n              $scope.fabric.render();\n            }\n          });\n\n          $scope.$watch(\"fabric.selectedObject.fontSize\", function(newVal) {\n            if (typeof newVal === \"string\" || typeof newVal === \"number\") {\n              $scope.fabric.setFontSize(newVal);\n              $scope.fabric.render();\n            }\n          });\n\n          $scope.$watch(\"fabric.selectedObject.lineHeight\", function(newVal) {\n            if (typeof newVal === \"string\" || typeof newVal === \"number\") {\n              $scope.fabric.setLineHeight(newVal);\n              $scope.fabric.render();\n            }\n          });\n\n          $scope.$watch(\"fabric.selectedObject.textAlign\", function(newVal) {\n            if (typeof newVal === \"string\") {\n              $scope.fabric.setTextAlign(newVal);\n              $scope.fabric.render();\n            }\n          });\n\n          $scope.$watch(\"fabric.selectedObject.fontFamily\", function(newVal) {\n            if (typeof newVal === \"string\" && newVal) {\n              $scope.fabric.setFontFamily(newVal);\n              $scope.fabric.render();\n            }\n          });\n\n          $scope.$watch(\"fabric.selectedObject.opacity\", function(newVal) {\n            if (typeof newVal === \"string\" || typeof newVal === \"number\") {\n              $scope.fabric.setOpacity(newVal);\n              $scope.fabric.render();\n            }\n          });\n          // $scope.$watch(\"fabric.selectedObject.tintopacity\", function(newVal) {\n          //   if (typeof newVal === \"string\" || typeof newVal === \"number\") {\n          //     $scope.fabric.setTintOpacity(newVal);\n          //     $scope.fabric.render();\n          //   }\n          // });\n\n          $scope.$watch(\"fabric.selectedObject.fill\", function(newVal) {\n            if (typeof newVal === \"string\") {\n              $scope.fabric.setFill(newVal);\n              $scope.fabric.render();\n            }\n          });\n\n          $scope.$watch(\"fabric.selectedObject.tint\", function(newVal) {\n            if (typeof newVal === \"string\") {\n              $scope.fabric.setTint(newVal);\n              $scope.fabric.render();\n            }\n          });\n        }\n      };\n    }\n  ]);\n","angular.module('common.fabric.constants', [])\n\n.service('FabricConstants', [function() {\n\n\tvar objectDefaults = {\n\t\trotatingPointOffset: 20,\n\t\tpadding: 0,\n\t\tborderColor: 'EEF6FC',\n\t\tcornerColor: 'rgba(64, 159, 221, 1)',\n\t\tcornerSize: 10,\n\t\ttransparentCorners: false,\n\t\thasRotatingPoint: true,\n\t\tcenterTransform: true\n\t};\n\n\treturn {\n\n\t\tpresetSizes: [\n\t\t\t{\n\t\t\t\tname: 'Banner dài (1200 x 160)',\n\t\t\t\theight: 160,\n\t\t\t\twidth: 1200\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Banner Right (400 x 190)',\n\t\t\t\theight: 190,\n\t\t\t\twidth: 400\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Banner Slider (500 x 316)',\n\t\t\t\theight: 316,\n\t\t\t\twidth: 500\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Banner Thumbnail (200 x 200)',\n\t\t\t\theight: 200,\n\t\t\t\twidth: 200\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Portrait (8.5 x 11)',\n\t\t\t\theight: 1947,\n\t\t\t\twidth: 1510\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Landscape (11 x 8.5)',\n\t\t\t\twidth: 1947,\n\t\t\t\theight: 1510\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Business Card (3.5 x 2)',\n\t\t\t\theight: 368,\n\t\t\t\twidth: 630\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Postcard (6 x 4)',\n\t\t\t\theight: 718,\n\t\t\t\twidth: 1068\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Content/Builder Product Thumbnail',\n\t\t\t\theight: 400,\n\t\t\t\twidth: 760\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Badge',\n\t\t\t\theight: 400,\n\t\t\t\twidth: 400\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Facebook Profile Picture',\n\t\t\t\theight: 300,\n\t\t\t\twidth: 300\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Facebook Cover Picture',\n\t\t\t\theight: 315,\n\t\t\t\twidth: 851\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Facebook Photo Post (Landscape)',\n\t\t\t\theight: 504,\n\t\t\t\twidth: 403\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Facebook Photo Post (Horizontal)',\n\t\t\t\theight: 1008,\n\t\t\t\twidth: 806\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Facebook Full-Width Photo Post',\n\t\t\t\theight: 504,\n\t\t\t\twidth: 843\n\t\t\t}\n\t\t],\n\n\t\tfonts: [\n\t\t\t{ name: 'Roboto' },\n\t\t\t{ name: 'Segoe UI' },\n\t\t\t{ name: 'Roboto Slab' },\n\t\t\t{ name: 'Open Sans' },\n\t\t\t{ name: 'Roboto Mono' },\n\t\t\t{ name: 'Montserrat' },\n\t\t\t{ name: 'Merriweather' },\n\t\t\t{ name: 'Raleway' },\n\t\t\t{ name: 'Ubuntu' },\n\t\t\t{ name: 'Anton' },\n\t\t\t{ name: 'Helvetica Neue' },\n\t\t\t{ name: 'Arial' }\n\t\t\t// { name: 'Lora' },\n\t\t\t// { name: 'Croissant One' },\n\t\t\t// { name: 'Architects Daughter' },\n\t\t\t// { name: 'Emblema One' },\n\t\t\t// { name: 'Graduate' },\n\t\t\t// { name: 'Hammersmith One' },\n\t\t\t// { name: 'Oswald' },\n\t\t\t// { name: 'Oxygen' },\n\t\t\t// { name: 'Krona One' },\n\t\t\t// { name: 'Indie Flower' },\n\t\t\t// { name: 'Courgette' },\n\t\t\t// { name: 'Gruppo' },\n\t\t\t// { name: 'Ranchers' }\n\t\t],\n\n\t\tshapeCategories: [\n\t\t\t{\n\t\t\t\tname: 'Popular Shapes',\n\t\t\t\tshapes: [\n\t\t\t\t\t'arrow6',\n\t\t\t\t\t'bubble4',\n\t\t\t\t\t'circle1',\n\t\t\t\t\t'rectangle1',\n\t\t\t\t\t'star1',\n\t\t\t\t\t'triangle1'\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Simple Shapes',\n\t\t\t\tshapes: [\n\t\t\t\t\t'circle1',\n\t\t\t\t\t'heart1',\n\t\t\t\t\t'rectangle1',\n\t\t\t\t\t'triangle1',\n\t\t\t\t\t'star1',\n\t\t\t\t\t'star2',\n\t\t\t\t\t'star3',\n\t\t\t\t\t'square1'\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Arrows & Pointers',\n\t\t\t\tshapes: [\n\t\t\t\t\t'arrow1',\n\t\t\t\t\t'arrow9',\n\t\t\t\t\t'arrow3',\n\t\t\t\t\t'arrow6',\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Bubbles & Balloons',\n\t\t\t\tshapes: [\n\t\t\t\t\t'bubble5',\n\t\t\t\t\t'bubble4'\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Check Marks',\n\t\t\t\tshapes: [\n\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Badges',\n\t\t\t\tshapes: [\n\t\t\t\t\t'badge1',\n\t\t\t\t\t'badge2',\n\t\t\t\t\t'badge4',\n\t\t\t\t\t'badge5',\n\t\t\t\t\t'badge6'\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\n\t\tJSONExportProperties: [\n\t\t\t'height',\n\t\t\t'width',\n\t\t\t'background',\n\t\t\t'objects',\n\n\t\t\t'originalHeight',\n\t\t\t'originalWidth',\n\t\t\t'originalScaleX',\n\t\t\t'originalScaleY',\n\t\t\t'originalLeft',\n\t\t\t'originalTop',\n\n\t\t\t'lineHeight',\n\t\t\t'lockMovementX',\n\t\t\t'lockMovementY',\n\t\t\t'lockScalingX',\n\t\t\t'lockScalingY',\n\t\t\t'lockUniScaling',\n\t\t\t'lockRotation',\n\t\t\t'lockObject',\n\t\t\t'id',\n\t\t\t'isTinted',\n\t\t\t'filters'\n\t\t],\n\n\t\tshapeDefaults: angular.extend({\n\t\t\tfill: '#0088cc'\n\t\t}, objectDefaults),\n\n\t\ttextDefaults: angular.extend({\n\t\t\toriginX: 'left',\n\t\t\tscaleX: 1,\n\t\t\tscaleY: 1,\n\t\t\tfontFamily: 'Lato',\n\t\t\tfontSize: 16,\n\t\t\tfill: '#000',\n\t\t\ttextAlign: 'left'\n\t\t}, objectDefaults)\n\n\t};\n\n}]);\n","angular.module('common.fabric.canvas', [\n\t'common.fabric.window'\n])\n\n.service('FabricCanvas', ['FabricWindow', '$rootScope', function(FabricWindow, $rootScope) {\n\n\tvar self = {\n\t\tcanvasId: null,\n\t\telement: null,\n\t\tcanvas: null\n\t};\n\n\tfunction createId() {\n\t\treturn Math.floor(Math.random() * 10000);\n\t}\n\n\tself.setElement = function(element) {\n\t\tself.element = element;\n\t\t$rootScope.$broadcast('canvas:element:selected');\n\t};\n\n\tself.createCanvas = function() {\n\t\tself.canvasId = 'fabric-canvas-' + createId();\n\t\tself.element.attr('id', self.canvasId);\n\t\tself.canvas = new FabricWindow.Canvas(self.canvasId);\n\t\t$rootScope.$broadcast('canvas:created');\n\n\t\treturn self.canvas;\n\t};\n\n\tself.getCanvas = function() {\n\t\treturn self.canvas;\n\t};\n\n\tself.getCanvasId = function() {\n\t\treturn self.canvasId;\n\t};\n\n\treturn self;\n\n}]);\n","angular.module('common.fabric', [\n\t'common.fabric.window',\n\t'common.fabric.directive',\n\t'common.fabric.canvas',\n\t'common.fabric.dirtyStatus'\n])\n\n\t.factory('Fabric', [\n\t\t'FabricWindow', '$timeout', '$window', 'FabricCanvas', 'FabricDirtyStatus',\n\t\tfunction (FabricWindow, $timeout, $window, FabricCanvas, FabricDirtyStatus) {\n\n\t\t\treturn function (options) {\n\n\t\t\t\tvar canvas;\n\t\t\t\tvar JSONObject;\n\t\t\t\tvar self = angular.extend({\n\t\t\t\t\tcanvasBackgroundColor: '#ffffff',\n\t\t\t\t\tcanvasWidth: 800,\n\t\t\t\t\tcanvasHeight: 600,\n\t\t\t\t\tcanvasOriginalHeight: 600,\n\t\t\t\t\tcanvasOriginalWidth: 800,\n\t\t\t\t\tmaxContinuousRenderLoops: 25,\n\t\t\t\t\tcontinuousRenderTimeDelay: 500,\n\t\t\t\t\teditable: true,\n\t\t\t\t\tJSONExportProperties: [],\n\t\t\t\t\tloading: false,\n\t\t\t\t\tdirty: false,\n\t\t\t\t\tinitialized: false,\n\t\t\t\t\tuserHasClickedCanvas: false,\n\t\t\t\t\tdownloadMultipler: 2,\n\t\t\t\t\timageDefaults: {},\n\t\t\t\t\ttextDefaults: {},\n\t\t\t\t\tshapeDefaults: {},\n\t\t\t\t\twindowDefaults: {\n\t\t\t\t\t\ttransparentCorners: false,\n\t\t\t\t\t\trotatingPointOffset: 25,\n\t\t\t\t\t\tpadding: 0\n\t\t\t\t\t},\n\t\t\t\t\tcanvasDefaults: {\n\t\t\t\t\t\tselection: true\n\t\t\t\t\t}\n\t\t\t\t}, options);\n\n\n\t\t\t\tfunction capitalize(string) {\n\t\t\t\t\tif (typeof string !== 'string') {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\n\t\t\t\t}\n\n\t\t\t\tfunction getActiveStyle(styleName, object) {\n\t\t\t\t\tobject = object || canvas.getActiveObject();\n\n\t\t\t\t\tif (typeof object !== 'object' || object === null) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (object.getSelectionStyles && object.isEditing) ? (object.getSelectionStyles()[styleName] || '') : (object[styleName] || '');\n\t\t\t\t}\n\n\t\t\t\tfunction setActiveStyle(styleName, value, object) {\n\t\t\t\t\tobject = object || canvas.getActiveObject();\n\n\t\t\t\t\tif (object.setSelectionStyles && object.isEditing) {\n\t\t\t\t\t\tvar style = {};\n\t\t\t\t\t\tstyle[styleName] = value;\n\t\t\t\t\t\tobject.setSelectionStyles(style);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobject[styleName] = value;\n\t\t\t\t\t}\n\n\t\t\t\t\tself.render();\n\t\t\t\t}\n\n\t\t\t\tfunction getActiveProp(name) {\n\t\t\t\t\tvar object = canvas.getActiveObject();\n\n\t\t\t\t\treturn typeof object === 'object' && object !== null ? object[name] : '';\n\t\t\t\t}\n\n\t\t\t\tfunction setActiveProp(name, value) {\n\t\t\t\t\tvar object = canvas.getActiveObject();\n\t\t\t\t\tobject.set(name, value);\n\t\t\t\t\tself.render();\n\t\t\t\t}\n\n\t\t\t\tfunction b64toBlob(b64Data, contentType, sliceSize) {\n\t\t\t\t\tcontentType = contentType || '';\n\t\t\t\t\tsliceSize = sliceSize || 512;\n\n\t\t\t\t\tvar byteCharacters = atob(b64Data);\n\t\t\t\t\tvar byteArrays = [];\n\n\t\t\t\t\tfor (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n\t\t\t\t\t\tvar slice = byteCharacters.slice(offset, offset + sliceSize);\n\n\t\t\t\t\t\tvar byteNumbers = new Array(slice.length);\n\t\t\t\t\t\tfor (var i = 0; i < slice.length; i++) {\n\t\t\t\t\t\t\tbyteNumbers[i] = slice.charCodeAt(i);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar byteArray = new Uint8Array(byteNumbers);\n\n\t\t\t\t\t\tbyteArrays.push(byteArray);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar blob = new Blob(byteArrays, { type: contentType });\n\t\t\t\t\treturn blob;\n\t\t\t\t}\n\n\t\t\t\tfunction isHex(str) {\n\t\t\t\t\treturn /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/gi.test(str);\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t// Canvas\n\t\t\t\t// ==============================================================\n\t\t\t\tself.renderCount = 0;\n\t\t\t\tself.render = function () {\n\t\t\t\t\tvar objects = canvas.getObjects();\n\t\t\t\t\tfor (var i in objects) {\n\t\t\t\t\t\tobjects[i].setCoords();\n\t\t\t\t\t}\n\n\t\t\t\t\tcanvas.calcOffset();\n\t\t\t\t\tcanvas.renderAll();\n\t\t\t\t\tself.renderCount++;\n\t\t\t\t\t// console.log('Render cycle:', self.renderCount);\n\t\t\t\t};\n\n\t\t\t\tself.setCanvas = function (newCanvas) {\n\t\t\t\t\tcanvas = newCanvas;\n\t\t\t\t\tcanvas.selection = self.canvasDefaults.selection;\n\t\t\t\t};\n\n\t\t\t\tself.setTextDefaults = function (textDefaults) {\n\t\t\t\t\tself.textDefaults = textDefaults;\n\t\t\t\t};\n\n\t\t\t\tself.setJSONExportProperties = function (JSONExportProperties) {\n\t\t\t\t\tself.JSONExportProperties = JSONExportProperties;\n\t\t\t\t};\n\n\t\t\t\tself.setCanvasBackgroundColor = function (color) {\n\t\t\t\t\tself.canvasBackgroundColor = color;\n\t\t\t\t\tcanvas.setBackgroundColor(color);\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\tself.setCanvasWidth = function (width) {\n\t\t\t\t\tself.canvasWidth = width;\n\t\t\t\t\tcanvas.setWidth(width);\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\tself.setCanvasHeight = function (height) {\n\t\t\t\t\tself.canvasHeight = height;\n\t\t\t\t\tcanvas.setHeight(height);\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\tself.setCanvasSize = function (width, height) {\n\t\t\t\t\tself.stopContinuousRendering();\n\t\t\t\t\tvar initialCanvasScale = self.canvasScale;\n\t\t\t\t\tself.resetZoom();\n\n\t\t\t\t\tself.canvasWidth = width;\n\t\t\t\t\tself.canvasOriginalWidth = width;\n\t\t\t\t\tcanvas.originalWidth = width;\n\t\t\t\t\tcanvas.setWidth(width);\n\n\t\t\t\t\tself.canvasHeight = height;\n\t\t\t\t\tself.canvasOriginalHeight = height;\n\t\t\t\t\tcanvas.originalHeight = height;\n\t\t\t\t\tcanvas.setHeight(height);\n\n\t\t\t\t\tself.canvasScale = initialCanvasScale;\n\t\t\t\t\tself.render();\n\t\t\t\t\tself.setZoom();\n\t\t\t\t\tself.render();\n\t\t\t\t\tself.setZoom();\n\t\t\t\t};\n\n\t\t\t\tself.isLoading = function () {\n\t\t\t\t\treturn self.isLoading;\n\t\t\t\t};\n\n\t\t\t\tself.deactivateAll = function () {\n\t\t\t\t\tcanvas.deactivateAll();\n\t\t\t\t\tself.deselectActiveObject();\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\tself.clearCanvas = function () {\n\t\t\t\t\tif (confirm('Bạn có muốn xóa tất cả?')) {\n\t\t\t\t\t\tcanvas.clear();\n\t\t\t\t\t\tcanvas.setBackgroundColor('#ffffff');\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Creating Objects\n\t\t\t\t// ==============================================================\n\t\t\t\tself.addObjectToCanvas = function (object) {\n\t\t\t\t\tobject.originalScaleX = object.scaleX;\n\t\t\t\t\tobject.originalScaleY = object.scaleY;\n\t\t\t\t\tobject.originalLeft = object.left;\n\t\t\t\t\tobject.originalTop = object.top;\n\n\t\t\t\t\tcanvas.add(object);\n\t\t\t\t\tself.setObjectZoom(object);\n\t\t\t\t\tcanvas.setActiveObject(object);\n\t\t\t\t\tobject.bringToFront();\n\t\t\t\t\tself.center();\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// addRect\n\t\t\t\t// ==============================================================\n\t\t\t\tself.addRect = function (data) {\n\t\t\t\t\tvar object\n\t\t\t\t\tif (data == 1) {\n\t\t\t\t\t\tobject = new fabric.Rect({ width: 200, height: 50, fill: '#9c27b0', top: 100, left: 100 })\n\t\t\t\t\t} else if (data == 2) {\n\t\t\t\t\t\tobject = new fabric.Circle({ radius: 40, fill: '#03a9f4', top: 100, left: 100 })\n\t\t\t\t\t} else if (data == 3) {\n\t\t\t\t\t\tobject = new fabric.Triangle({ top: 100, left: 100, width: 100, height: 100, fill: '#4caf50' })\n\t\t\t\t\t} else if (data == 4) {\n\t\t\t\t\t\tobject = new fabric.Line([50, 100, 300, 200], {\n\t\t\t\t\t\t\tleft: 100,\n\t\t\t\t\t\t\ttop: 100,\n\t\t\t\t\t\t\tstroke: '#000'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else if (data == 5) {\n\t\t\t\t\t\tfunction regularPolygonPoints(sideCount, radius) {\n\t\t\t\t\t\t\tvar sweep = Math.PI * 2 / sideCount;\n\t\t\t\t\t\t\tvar cx = radius;\n\t\t\t\t\t\t\tvar cy = radius;\n\t\t\t\t\t\t\tvar points = [];\n\t\t\t\t\t\t\tfor (var i = 0; i < sideCount; i++) {\n\t\t\t\t\t\t\t\tvar x = cx + radius * Math.cos(i * sweep);\n\t\t\t\t\t\t\t\tvar y = cy + radius * Math.sin(i * sweep);\n\t\t\t\t\t\t\t\tpoints.push({ x: x, y: y });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (points);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar points = regularPolygonPoints(6, 100);\n\t\t\t\t\t\tobject = new fabric.Polygon(points, {\n\t\t\t\t\t\t\t// stroke: 'red',\n\t\t\t\t\t\t\tleft: 100,\n\t\t\t\t\t\t\ttop: 100,\n\t\t\t\t\t\t\tfill: '#4fffff',\n\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\theight: 100\n\t\t\t\t\t\t\t// strokeWidth: 0,\n\t\t\t\t\t\t\t// strokeLineJoin: 'bevil'\n\t\t\t\t\t\t}, false)\n\t\t\t\t\t}\n\t\t\t\t\telse if (data == 6) {\n\t\t\t\t\t\tfunction starPolygonPoints(spikeCount, outerRadius, innerRadius) {\n\t\t\t\t\t\t\tvar rot = Math.PI / 2 * 3;\n\t\t\t\t\t\t\tvar cx = outerRadius;\n\t\t\t\t\t\t\tvar cy = outerRadius;\n\t\t\t\t\t\t\tvar sweep = Math.PI / spikeCount;\n\t\t\t\t\t\t\tvar points = [];\n\t\t\t\t\t\t\tvar angle = 0;\n\n\t\t\t\t\t\t\tfor (var i = 0; i < spikeCount; i++) {\n\t\t\t\t\t\t\t\tvar x = cx + Math.cos(angle) * outerRadius;\n\t\t\t\t\t\t\t\tvar y = cy + Math.sin(angle) * outerRadius;\n\t\t\t\t\t\t\t\tpoints.push({ x: x, y: y });\n\t\t\t\t\t\t\t\tangle += sweep;\n\n\t\t\t\t\t\t\t\tx = cx + Math.cos(angle) * innerRadius;\n\t\t\t\t\t\t\t\ty = cy + Math.sin(angle) * innerRadius;\n\t\t\t\t\t\t\t\tpoints.push({ x: x, y: y });\n\t\t\t\t\t\t\t\tangle += sweep\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (points);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar points = starPolygonPoints(5, 60, 25);\n\t\t\t\t\t\tobject = new fabric.Polygon(points, {\n\t\t\t\t\t\t\t// stroke: 'red',\n\t\t\t\t\t\t\tleft: 100,\n\t\t\t\t\t\t\ttop: 100,\n\t\t\t\t\t\t\tfill: '#7d7',\n\t\t\t\t\t\t\tstrokeWidth: 0,\n\t\t\t\t\t\t\tstrokeLineJoin: 'bevil'\n\t\t\t\t\t\t}, false)\n\t\t\t\t\t}\n\t\t\t\t\tobject.id = self.createId();\n\t\t\t\t\tself.addObjectToCanvas(object);\n\t\t\t\t};\n\t\t\t\t//\n\t\t\t\t// Image\n\t\t\t\t// ==============================================================\n\t\t\t\tself.addImage = function (imageURL) {\n\t\t\t\t\tfabric.Image.fromURL(imageURL, function (object) {\n\t\t\t\t\t\tobject.id = self.createId();\n\n\t\t\t\t\t\tfor (var p in self.imageOptions) {\n\t\t\t\t\t\t\tobject[p] = self.imageOptions[p];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Add a filter that can be used to turn the image\n\t\t\t\t\t\t// into a solid colored shape.\n\t\t\t\t\t\tvar filter = new fabric.Image.filters.Tint({\n\t\t\t\t\t\t\tcolor: '#FF0000',\n\t\t\t\t\t\t\topacity: 0\n\t\t\t\t\t\t});\n\t\t\t\t\t\tobject.filters.push(filter);\n\t\t\t\t\t\tobject.applyFilters(canvas.renderAll.bind(canvas));\n\n\t\t\t\t\t\tself.addObjectToCanvas(object);\n\t\t\t\t\t}, self.imageDefaults);\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Shape\n\t\t\t\t// ==============================================================\n\t\t\t\tself.addShape = function (svgURL) {\n\t\t\t\t\tfabric.loadSVGFromURL(svgURL, function (objects) {\n\t\t\t\t\t\tvar object = fabric.util.groupSVGElements(objects, self.shapeDefaults);\n\t\t\t\t\t\tobject.id = self.createId();\n\n\t\t\t\t\t\tfor (var p in self.shapeDefaults) {\n\t\t\t\t\t\t\tobject[p] = self.shapeDefaults[p];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (object.isSameColor && object.isSameColor() || !object.paths) {\n\t\t\t\t\t\t\tobject.setFill('#0088cc');\n\t\t\t\t\t\t} else if (object.paths) {\n\t\t\t\t\t\t\tfor (var i = 0; i < object.paths.length; i++) {\n\t\t\t\t\t\t\t\tobject.paths[i].setFill('#0088cc');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.addObjectToCanvas(object);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Text\n\t\t\t\t// ==============================================================\n\t\t\t\tself.addText = function (str) {\n\t\t\t\t\tstr = str || 'Hello world!\\nWeb: https://baonguyenyam.github.io/cv';\n\t\t\t\t\tvar object = new FabricWindow.Text(str, self.textDefaults);\n\t\t\t\t\tobject.id = self.createId();\n\n\t\t\t\t\tself.addObjectToCanvas(object);\n\t\t\t\t};\n\n\t\t\t\tself.getText = function () {\n\t\t\t\t\treturn getActiveProp('text');\n\t\t\t\t};\n\n\t\t\t\tself.setText = function (value) {\n\t\t\t\t\tsetActiveProp('text', value);\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Font Size\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getFontSize = function () {\n\t\t\t\t\treturn getActiveStyle('fontSize');\n\t\t\t\t};\n\n\t\t\t\tself.setFontSize = function (value) {\n\t\t\t\t\tsetActiveStyle('fontSize', parseInt(value, 10));\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Text Align\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getTextAlign = function () {\n\t\t\t\t\treturn capitalize(getActiveProp('textAlign'));\n\t\t\t\t};\n\n\t\t\t\tself.setTextAlign = function (value) {\n\t\t\t\t\tsetActiveProp('textAlign', value.toLowerCase());\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Font Family\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getFontFamily = function () {\n\t\t\t\t\tvar fontFamily = getActiveProp('fontFamily');\n\t\t\t\t\treturn fontFamily ? fontFamily.toLowerCase() : '';\n\t\t\t\t};\n\n\t\t\t\tself.setFontFamily = function (value) {\n\t\t\t\t\tsetActiveProp('fontFamily', value.toLowerCase());\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Lineheight\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getLineHeight = function () {\n\t\t\t\t\treturn getActiveStyle('lineHeight');\n\t\t\t\t};\n\n\t\t\t\tself.setLineHeight = function (value) {\n\t\t\t\t\tsetActiveStyle('lineHeight', parseFloat(value, 10));\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Bold\n\t\t\t\t// ==============================================================\n\t\t\t\tself.isBold = function () {\n\t\t\t\t\treturn getActiveStyle('fontWeight') === 'bold';\n\t\t\t\t};\n\n\t\t\t\tself.toggleBold = function () {\n\t\t\t\t\tsetActiveStyle('fontWeight',\n\t\t\t\t\t\tgetActiveStyle('fontWeight') === 'bold' ? '' : 'bold');\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Italic\n\t\t\t\t// ==============================================================\n\t\t\t\tself.isItalic = function () {\n\t\t\t\t\treturn getActiveStyle('fontStyle') === 'italic';\n\t\t\t\t};\n\n\t\t\t\tself.toggleItalic = function () {\n\t\t\t\t\tsetActiveStyle('fontStyle',\n\t\t\t\t\t\tgetActiveStyle('fontStyle') === 'italic' ? '' : 'italic');\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Underline\n\t\t\t\t// ==============================================================\n\t\t\t\tself.isUnderline = function () {\n\t\t\t\t\treturn getActiveStyle('textDecoration').indexOf('underline') > -1;\n\t\t\t\t};\n\n\t\t\t\tself.toggleUnderline = function () {\n\t\t\t\t\tvar value = self.isUnderline() ? getActiveStyle('textDecoration').replace('underline', '') : (getActiveStyle('textDecoration') + ' underline');\n\n\t\t\t\t\tsetActiveStyle('textDecoration', value);\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Linethrough\n\t\t\t\t// ==============================================================\n\t\t\t\tself.isLinethrough = function () {\n\t\t\t\t\treturn getActiveStyle('textDecoration').indexOf('line-through') > -1;\n\t\t\t\t};\n\n\t\t\t\tself.toggleLinethrough = function () {\n\t\t\t\t\tvar value = self.isLinethrough() ? getActiveStyle('textDecoration').replace('line-through', '') : (getActiveStyle('textDecoration') + ' line-through');\n\n\t\t\t\t\tsetActiveStyle('textDecoration', value);\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Text Align\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getTextAlign = function () {\n\t\t\t\t\treturn getActiveProp('textAlign');\n\t\t\t\t};\n\n\t\t\t\tself.setTextAlign = function (value) {\n\t\t\t\t\tsetActiveProp('textAlign', value);\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Opacity\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getOpacity = function () {\n\t\t\t\t\treturn getActiveStyle('opacity');\n\t\t\t\t};\n\n\t\t\t\tself.setOpacity = function (value) {\n\t\t\t\t\tsetActiveStyle('opacity', value);\n\t\t\t\t};\n\t\t\t\tself.getTintOpacity = function () {\n\t\t\t\t\treturn '.5';\n\t\t\t\t};\n\n\t\t\t\t// self.setTintOpacity = function (value) {\n\t\t\t\t// \tsetActiveStyle('opacity', value);\n\t\t\t\t// };\n\n\t\t\t\t//\n\t\t\t\t// FlipX\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getFlipX = function () {\n\t\t\t\t\treturn getActiveProp('flipX');\n\t\t\t\t};\n\n\t\t\t\tself.setFlipX = function (value) {\n\t\t\t\t\tsetActiveProp('flipX', value);\n\t\t\t\t};\n\n\t\t\t\tself.toggleFlipX = function () {\n\t\t\t\t\tvar value = self.getFlipX() ? false : true;\n\t\t\t\t\tself.setFlipX(value);\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Align Active Object\n\t\t\t\t// ==============================================================\n\t\t\t\tself.center = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject) {\n\t\t\t\t\t\tactiveObject.center();\n\t\t\t\t\t\tself.updateActiveObjectOriginals();\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.centerH = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject) {\n\t\t\t\t\t\tactiveObject.centerH();\n\t\t\t\t\t\tself.updateActiveObjectOriginals();\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.centerV = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject) {\n\t\t\t\t\t\tactiveObject.centerV();\n\t\t\t\t\t\tself.updateActiveObjectOriginals();\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Active Object Layer Position\n\t\t\t\t// ==============================================================\n\t\t\t\tself.sendBackwards = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject) {\n\t\t\t\t\t\tcanvas.sendBackwards(activeObject);\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.sendToBack = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject) {\n\t\t\t\t\t\tcanvas.sendToBack(activeObject);\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.bringForward = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject) {\n\t\t\t\t\t\tcanvas.bringForward(activeObject);\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.bringToFront = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject) {\n\t\t\t\t\t\tcanvas.bringToFront(activeObject);\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Active Object Tint Color\n\t\t\t\t// ==============================================================\n\t\t\t\tself.isTinted = function () {\n\t\t\t\t\treturn getActiveProp('isTinted');\n\t\t\t\t};\n\n\t\t\t\tself.toggleTint = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tactiveObject.tintopacit = '.5'\n\t\t\t\t\tconsole.log(activeObject.tintopacity)\n\t\t\t\t\tvar filter = new fabric.Image.filters.Tint({\n\t\t\t\t\t\tcolor: activeObject.tint,\n\t\t\t\t\t\topacity: activeObject.tintopacity\n\t\t\t\t\t});\n\t\t\t\t\tvar filterre = new fabric.Image.filters.Tint({\n\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\topacity: '0'\n\t\t\t\t\t});\n\t\t\t\t\tactiveObject.isTinted = !activeObject.isTinted;\n\t\t\t\t\tactiveObject.filters[0] = activeObject.isTinted ? filter : filterre;\n\t\t\t\t\tactiveObject.applyFilters(canvas.renderAll.bind(canvas));\n\t\t\t\t\t///////\n\t\t\t\t\t// var activeObject = canvas.getActiveObject();\n\t\t\t\t\t// activeObject.isTinted = !activeObject.isTinted;\n\t\t\t\t\t// activeObject.filters[0].opacity = activeObject.isTinted ? 1 : 0;\n\t\t\t\t\t// activeObject.applyFilters(canvas.renderAll.bind(canvas));\n\t\t\t\t};\n\n\t\t\t\tself.getTint = function () {\n\t\t\t\t\tvar object = canvas.getActiveObject();\n\n\t\t\t\t\tif (typeof object !== 'object' || object === null) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (object.filters !== undefined) {\n\t\t\t\t\t\tif (object.filters[0] !== undefined) {\n\t\t\t\t\t\t\treturn object.filters[0].color;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.setTint = function (tint) {\n\t\t\t\t\tif (!isHex(tint)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject.filters !== undefined) {\n\t\t\t\t\t\tif (activeObject.filters[0] !== undefined) {\n\t\t\t\t\t\t\tactiveObject.filters[0].color = tint;\n\t\t\t\t\t\t\tactiveObject.applyFilters(canvas.renderAll.bind(canvas));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Active Object Fill Color\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getFill = function () {\n\t\t\t\t\treturn getActiveStyle('fill');\n\t\t\t\t};\n\n\t\t\t\tself.setFill = function (value) {\n\t\t\t\t\tvar object = canvas.getActiveObject();\n\t\t\t\t\tif (object) {\n\t\t\t\t\t\tif (object.type === 'text') {\n\t\t\t\t\t\t\tsetActiveStyle('fill', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.setFillPath(object, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.setFillPath = function (object, value) {\n\t\t\t\t\tif (object.isSameColor && object.isSameColor() || !object.paths) {\n\t\t\t\t\t\tobject.setFill(value);\n\t\t\t\t\t} else if (object.paths) {\n\t\t\t\t\t\tfor (var i = 0; i < object.paths.length; i++) {\n\t\t\t\t\t\t\tobject.paths[i].setFill(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.getStroke = function () {\n\t\t\t\t\treturn getActiveStyle('stroke');\n\t\t\t\t};\n\t\t\t\tself.setStroke = function (value) {\n\t\t\t\t\tsetActiveStyle('stroke', value);\n\t\t\t\t};\n\n\t\t\t\tself.getStrokeWidth = function () {\n\t\t\t\t\treturn getActiveStyle('strokeWidth');\n\t\t\t\t};\n\t\t\t\tself.setStrokeWidth = function (value) {\n\t\t\t\t\tsetActiveStyle('strokeWidth', value);\n\t\t\t\t};\n\n\n\t\t\t\t//\n\t\t\t\t// Canvas Zoom\n\t\t\t\t// ==============================================================\n\t\t\t\tself.resetZoom = function () {\n\t\t\t\t\tself.canvasScale = 1;\n\t\t\t\t\tself.setZoom();\n\t\t\t\t};\n\n\t\t\t\tself.setZoom = function () {\n\t\t\t\t\tvar objects = canvas.getObjects();\n\t\t\t\t\tfor (var i in objects) {\n\t\t\t\t\t\tobjects[i].originalScaleX = objects[i].originalScaleX ? objects[i].originalScaleX : objects[i].scaleX;\n\t\t\t\t\t\tobjects[i].originalScaleY = objects[i].originalScaleY ? objects[i].originalScaleY : objects[i].scaleY;\n\t\t\t\t\t\tobjects[i].originalLeft = objects[i].originalLeft ? objects[i].originalLeft : objects[i].left;\n\t\t\t\t\t\tobjects[i].originalTop = objects[i].originalTop ? objects[i].originalTop : objects[i].top;\n\t\t\t\t\t\tself.setObjectZoom(objects[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tself.setCanvasZoom();\n\t\t\t\t\tself.render();\n\t\t\t\t};\n\n\t\t\t\tself.setObjectZoom = function (object) {\n\t\t\t\t\tvar scaleX = object.originalScaleX;\n\t\t\t\t\tvar scaleY = object.originalScaleY;\n\t\t\t\t\tvar left = object.originalLeft;\n\t\t\t\t\tvar top = object.originalTop;\n\n\t\t\t\t\tvar tempScaleX = scaleX * self.canvasScale;\n\t\t\t\t\tvar tempScaleY = scaleY * self.canvasScale;\n\t\t\t\t\tvar tempLeft = left * self.canvasScale;\n\t\t\t\t\tvar tempTop = top * self.canvasScale;\n\n\t\t\t\t\tobject.scaleX = tempScaleX;\n\t\t\t\t\tobject.scaleY = tempScaleY;\n\t\t\t\t\tobject.left = tempLeft;\n\t\t\t\t\tobject.top = tempTop;\n\n\t\t\t\t\tobject.setCoords();\n\t\t\t\t};\n\n\t\t\t\tself.setCanvasZoom = function () {\n\t\t\t\t\tvar width = self.canvasOriginalWidth;\n\t\t\t\t\tvar height = self.canvasOriginalHeight;\n\n\t\t\t\t\tvar tempWidth = width * self.canvasScale;\n\t\t\t\t\tvar tempHeight = height * self.canvasScale;\n\n\t\t\t\t\tcanvas.setWidth(tempWidth);\n\t\t\t\t\tcanvas.setHeight(tempHeight);\n\t\t\t\t};\n\n\t\t\t\tself.updateActiveObjectOriginals = function () {\n\t\t\t\t\tvar object = canvas.getActiveObject();\n\t\t\t\t\tif (object) {\n\t\t\t\t\t\tobject.originalScaleX = object.scaleX / self.canvasScale;\n\t\t\t\t\t\tobject.originalScaleY = object.scaleY / self.canvasScale;\n\t\t\t\t\t\tobject.originalLeft = object.left / self.canvasScale;\n\t\t\t\t\t\tobject.originalTop = object.top / self.canvasScale;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Active Object Lock\n\t\t\t\t// ==============================================================\n\t\t\t\tself.toggleLockActiveObject = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (activeObject) {\n\t\t\t\t\t\tactiveObject.lockMovementX = !activeObject.lockMovementX;\n\t\t\t\t\t\tactiveObject.lockMovementY = !activeObject.lockMovementY;\n\t\t\t\t\t\tactiveObject.lockScalingX = !activeObject.lockScalingX;\n\t\t\t\t\t\tactiveObject.lockScalingY = !activeObject.lockScalingY;\n\t\t\t\t\t\tactiveObject.lockUniScaling = !activeObject.lockUniScaling;\n\t\t\t\t\t\tactiveObject.lockRotation = !activeObject.lockRotation;\n\t\t\t\t\t\tactiveObject.lockObject = !activeObject.lockObject;\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Active Object\n\t\t\t\t// ==============================================================\n\t\t\t\tself.selectActiveObject = function () {\n\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\tif (!activeObject) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tself.selectedObject = activeObject;\n\t\t\t\t\tself.selectedObject.text = self.getText();\n\t\t\t\t\tself.selectedObject.fontSize = self.getFontSize();\n\t\t\t\t\tself.selectedObject.lineHeight = self.getLineHeight();\n\t\t\t\t\tself.selectedObject.textAlign = self.getTextAlign();\n\t\t\t\t\tself.selectedObject.opacity = self.getOpacity();\n\t\t\t\t\tself.selectedObject.fontFamily = self.getFontFamily();\n\t\t\t\t\tself.selectedObject.fill = self.getFill();\n\t\t\t\t\tself.selectedObject.stroke = self.getStroke();\n\t\t\t\t\tself.selectedObject.strokeWidth = self.getStrokeWidth();\n\t\t\t\t\tself.selectedObject.tint = self.getTint();\n\t\t\t\t\tself.selectedObject.tintopacity = self.getTintOpacity();\n\t\t\t\t};\n\n\t\t\t\tself.deselectActiveObject = function () {\n\t\t\t\t\tself.selectedObject = false;\n\t\t\t\t};\n\n\t\t\t\tself.deleteActiveObject = function () {\n\t\t\t\t\tif (confirm('Bạn có muốn xóa đối tượng này?')) {\n\t\t\t\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\t\t\t\tcanvas.remove(activeObject);\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// State Managers\n\t\t\t\t// ==============================================================\n\t\t\t\tself.isLoading = function () {\n\t\t\t\t\treturn self.loading;\n\t\t\t\t};\n\n\t\t\t\tself.setLoading = function (value) {\n\t\t\t\t\tself.loading = value;\n\t\t\t\t};\n\n\t\t\t\tself.setDirty = function (value) {\n\t\t\t\t\tFabricDirtyStatus.setDirty(value);\n\t\t\t\t};\n\n\t\t\t\tself.isDirty = function () {\n\t\t\t\t\treturn FabricDirtyStatus.isDirty();\n\t\t\t\t};\n\n\t\t\t\tself.setInitalized = function (value) {\n\t\t\t\t\tself.initialized = value;\n\t\t\t\t};\n\n\t\t\t\tself.isInitalized = function () {\n\t\t\t\t\treturn self.initialized;\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// JSON\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getJSON = function () {\n\t\t\t\t\tvar initialCanvasScale = self.canvasScale;\n\t\t\t\t\tself.canvasScale = 1;\n\t\t\t\t\tself.resetZoom();\n\n\t\t\t\t\tvar json = JSON.stringify(canvas.toJSON(self.JSONExportProperties));\n\n\t\t\t\t\tself.canvasScale = initialCanvasScale;\n\t\t\t\t\tself.setZoom();\n\n\t\t\t\t\treturn json;\n\t\t\t\t};\n\n\t\t\t\tself.loadJSON = function (json) {\n\t\t\t\t\tself.setLoading(true);\n\t\t\t\t\tcanvas.loadFromJSON(json, function () {\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tself.setLoading(false);\n\n\t\t\t\t\t\t\tif (!self.editable) {\n\t\t\t\t\t\t\t\tself.disableEditing();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.render();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Download Canvas\n\t\t\t\t// ==============================================================\n\t\t\t\tself.getCanvasData = function () {\n\t\t\t\t\tvar data = canvas.toDataURL({\n\t\t\t\t\t\twidth: canvas.getWidth(),\n\t\t\t\t\t\theight: canvas.getHeight(),\n\t\t\t\t\t\tmultiplier: self.downloadMultipler\n\t\t\t\t\t});\n\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\n\t\t\t\tself.getCanvasBlob = function () {\n\t\t\t\t\tvar base64Data = self.getCanvasData();\n\t\t\t\t\tvar data = base64Data.replace('data:image/png;base64,', '');\n\t\t\t\t\tvar blob = b64toBlob(data, 'image/png');\n\t\t\t\t\tvar blobUrl = URL.createObjectURL(blob);\n\n\t\t\t\t\treturn blobUrl;\n\t\t\t\t};\n\n\t\t\t\tself.download = function (name) {\n\t\t\t\t\t// Stops active object outline from showing in image\n\t\t\t\t\tself.deactivateAll();\n\n\t\t\t\t\tvar initialCanvasScale = self.canvasScale;\n\t\t\t\t\tself.resetZoom();\n\n\t\t\t\t\t// Click an artifical anchor to 'force' download.\n\t\t\t\t\tvar link = document.createElement('a');\n\t\t\t\t\tvar filename = name + '.png';\n\t\t\t\t\tlink.download = filename;\n\t\t\t\t\tlink.href = self.getCanvasBlob();\n\t\t\t\t\tlink.click();\n\n\t\t\t\t\tself.canvasScale = initialCanvasScale;\n\t\t\t\t\tself.setZoom();\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Continuous Rendering\n\t\t\t\t// ==============================================================\n\t\t\t\t// Upon initialization re render the canvas\n\t\t\t\t// to account for fonts loaded from CDN's\n\t\t\t\t// or other lazy loaded items.\n\n\t\t\t\t// Prevent infinite rendering loop\n\t\t\t\tself.continuousRenderCounter = 0;\n\t\t\t\tself.continuousRenderHandle;\n\n\t\t\t\tself.stopContinuousRendering = function () {\n\t\t\t\t\t$timeout.cancel(self.continuousRenderHandle);\n\t\t\t\t\tself.continuousRenderCounter = self.maxContinuousRenderLoops;\n\t\t\t\t};\n\n\t\t\t\tself.startContinuousRendering = function () {\n\t\t\t\t\tself.continuousRenderCounter = 0;\n\t\t\t\t\tself.continuousRender();\n\t\t\t\t};\n\n\t\t\t\t// Prevents the \"not fully rendered up upon init for a few seconds\" bug.\n\t\t\t\tself.continuousRender = function () {\n\t\t\t\t\tif (self.userHasClickedCanvas || self.continuousRenderCounter > self.maxContinuousRenderLoops) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tself.continuousRenderHandle = $timeout(function () {\n\t\t\t\t\t\tself.setZoom();\n\t\t\t\t\t\tself.render();\n\t\t\t\t\t\tself.continuousRenderCounter++;\n\t\t\t\t\t\tself.continuousRender();\n\t\t\t\t\t}, self.continuousRenderTimeDelay);\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Utility\n\t\t\t\t// ==============================================================\n\t\t\t\tself.setUserHasClickedCanvas = function (value) {\n\t\t\t\t\tself.userHasClickedCanvas = value;\n\t\t\t\t};\n\n\t\t\t\tself.createId = function () {\n\t\t\t\t\treturn Math.floor(Math.random() * 10000);\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Toggle Object Selectability\n\t\t\t\t// ==============================================================\n\t\t\t\tself.disableEditing = function () {\n\t\t\t\t\tcanvas.selection = false;\n\t\t\t\t\tcanvas.forEachObject(function (object) {\n\t\t\t\t\t\tobject.selectable = false;\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tself.enableEditing = function () {\n\t\t\t\t\tcanvas.selection = true;\n\t\t\t\t\tcanvas.forEachObject(function (object) {\n\t\t\t\t\t\tobject.selectable = true;\n\t\t\t\t\t});\n\t\t\t\t};\n\n\n\t\t\t\t//\n\t\t\t\t// Set Global Defaults\n\t\t\t\t// ==============================================================\n\t\t\t\tself.setCanvasDefaults = function () {\n\t\t\t\t\tcanvas.selection = self.canvasDefaults.selection;\n\t\t\t\t};\n\n\t\t\t\tself.setWindowDefaults = function () {\n\t\t\t\t\tFabricWindow.Object.prototype.transparentCorners = self.windowDefaults.transparentCorners;\n\t\t\t\t\tFabricWindow.Object.prototype.rotatingPointOffset = self.windowDefaults.rotatingPointOffset;\n\t\t\t\t\tFabricWindow.Object.prototype.padding = self.windowDefaults.padding;\n\t\t\t\t};\n\n\t\t\t\t//\n\t\t\t\t// Canvas Listeners\n\t\t\t\t// ============================================================\n\t\t\t\tself.startCanvasListeners = function () {\n\t\t\t\t\tcanvas.on('object:selected', function () {\n\t\t\t\t\t\tself.stopContinuousRendering();\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tself.selectActiveObject();\n\t\t\t\t\t\t\tself.setDirty(true);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tcanvas.on('selection:created', function () {\n\t\t\t\t\t\tself.stopContinuousRendering();\n\t\t\t\t\t});\n\n\t\t\t\t\tcanvas.on('selection:cleared', function () {\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tself.deselectActiveObject();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tcanvas.on('after:render', function () {\n\t\t\t\t\t\tcanvas.calcOffset();\n\t\t\t\t\t});\n\n\t\t\t\t\tcanvas.on('object:modified', function () {\n\t\t\t\t\t\tself.stopContinuousRendering();\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tself.updateActiveObjectOriginals();\n\t\t\t\t\t\t\tself.setDirty(true);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\n\n\t\t\t\t/////////////////////////////////////////////////////////////////////////////////////////\n\n\t\t\t\tself.getFreeDrawingMode = function () {\n\t\t\t\t\treturn canvas.isDrawingMode;\n\t\t\t\t};\n\t\t\t\tself.setFreeDrawingMode = function (value) {\n\t\t\t\t\tcanvas.isDrawingMode = !!value;\n\t\t\t\t\t// self.$$phase || self.$digest();\n\t\t\t\t};\n\n\t\t\t\tself.freeDrawingMode = 'Pencil';\n\n\t\t\t\tself.getDrawingMode = function () {\n\t\t\t\t\treturn self.freeDrawingMode;\n\t\t\t\t};\n\t\t\t\tself.setDrawingMode = function (type) {\n\t\t\t\t\tself.freeDrawingMode = type;\n\n\t\t\t\t\tif (type === 'hline') {\n\t\t\t\t\t\tcanvas.freeDrawingBrush = self.vLinePatternBrush;\n\t\t\t\t\t}\n\t\t\t\t\telse if (type === 'vline') {\n\t\t\t\t\t\tcanvas.freeDrawingBrush = self.hLinePatternBrush;\n\t\t\t\t\t}\n\t\t\t\t\telse if (type === 'square') {\n\t\t\t\t\t\tcanvas.freeDrawingBrush = self.squarePatternBrush;\n\t\t\t\t\t}\n\t\t\t\t\telse if (type === 'diamond') {\n\t\t\t\t\t\tcanvas.freeDrawingBrush = self.diamondPatternBrush;\n\t\t\t\t\t}\n\t\t\t\t\telse if (type === 'texture') {\n\t\t\t\t\t\tcanvas.freeDrawingBrush = self.texturePatternBrush;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcanvas.freeDrawingBrush = new fabric[type + 'Brush'](canvas);\n\t\t\t\t\t}\n\n\t\t\t\t\t// self.$$phase || self.$digest();\n\t\t\t\t};\n\n\t\t\t\tself.getDrawingLineWidth = function () {\n\t\t\t\t\tif (canvas.freeDrawingBrush) {\n\t\t\t\t\t\treturn canvas.freeDrawingBrush.width;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tself.setDrawingLineWidth = function (value) {\n\t\t\t\t\tif (canvas.freeDrawingBrush) {\n\t\t\t\t\t\tcanvas.freeDrawingBrush.width = parseInt(value, 10) || 1;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.getDrawingLineColor = function () {\n\t\t\t\t\tif (canvas.freeDrawingBrush) {\n\t\t\t\t\t\treturn canvas.freeDrawingBrush.color;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tself.setDrawingLineColor = function (value) {\n\t\t\t\t\tif (canvas.freeDrawingBrush) {\n\t\t\t\t\t\tcanvas.freeDrawingBrush.color = value;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tself.getDrawingLineShadowWidth = function () {\n\t\t\t\t\tif (canvas.freeDrawingBrush && canvas.freeDrawingBrush.shadow) {\n\t\t\t\t\t\treturn canvas.freeDrawingBrush.shadow.blur || 1;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tself.setDrawingLineShadowWidth = function (value) {\n\t\t\t\t\tif (canvas.freeDrawingBrush) {\n\t\t\t\t\t\tvar blur = parseInt(value, 10) || 1;\n\t\t\t\t\t\tif (blur > 0) {\n\t\t\t\t\t\t\tcanvas.freeDrawingBrush.shadow = new fabric.Shadow({ blur: blur, offsetX: 10, offsetY: 10 });\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcanvas.freeDrawingBrush.shadow = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/////////////////////////////////////////////////////////////////////////////////////////\n\n\t\t\t\t//\n\t\t\t\t// Constructor\n\t\t\t\t// ==============================================================\n\t\t\t\tself.init = function () {\n\t\t\t\t\tcanvas = FabricCanvas.getCanvas();\n\t\t\t\t\tself.canvasId = FabricCanvas.getCanvasId();\n\t\t\t\t\tcanvas.clear();\n\n\t\t\t\t\t// For easily accessing the json\n\t\t\t\t\tJSONObject = angular.fromJson(self.json);\n\t\t\t\t\tself.loadJSON(self.json);\n\n\t\t\t\t\tJSONObject = JSONObject || {};\n\n\t\t\t\t\tself.canvasScale = 1;\n\n\t\t\t\t\tJSONObject.background = JSONObject.background || '#ffffff';\n\t\t\t\t\tself.setCanvasBackgroundColor(JSONObject.background);\n\n\t\t\t\t\t// Set the size of the canvas\n\t\t\t\t\tJSONObject.width = JSONObject.width || 800;\n\t\t\t\t\tself.canvasOriginalWidth = JSONObject.width;\n\n\t\t\t\t\tJSONObject.height = JSONObject.height || 600;\n\t\t\t\t\tself.canvasOriginalHeight = JSONObject.height;\n\n\t\t\t\t\tself.setCanvasSize(self.canvasOriginalWidth, self.canvasOriginalHeight);\n\n\t\t\t\t\tself.render();\n\t\t\t\t\tself.setDirty(false);\n\t\t\t\t\tself.setInitalized(true);\n\n\t\t\t\t\tself.setCanvasDefaults();\n\t\t\t\t\tself.setWindowDefaults();\n\t\t\t\t\tself.startCanvasListeners();\n\t\t\t\t\tself.startContinuousRendering();\n\t\t\t\t\tFabricDirtyStatus.startListening();\n\t\t\t\t};\n\n\t\t\t\tself.init();\n\n\t\t\t\treturn self;\n\n\t\t\t};\n\n\t\t}]);"]}